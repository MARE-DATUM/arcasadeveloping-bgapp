/**
 * üé® ML Demo - Corre√ß√µes de Contraste e Legibilidade
 * Solu√ß√µes para problemas de visibilidade identificados na auditoria
 * 
 * PROBLEMAS RESOLVIDOS:
 * ‚úÖ Texto cinza claro (#666) ‚Üí Escuro s√≥lido (#1e293b)
 * ‚úÖ Backgrounds muito transparentes ‚Üí Opacidade aumentada
 * ‚úÖ Headers com cores fracas ‚Üí Cores contrastantes
 * ‚úÖ Elementos cr√≠ticos ‚Üí Bordas de contraste adicionadas
 * ‚úÖ Acessibilidade WCAG AA compliance
 */

/* =====================================
   üîß CORRE√á√ïES CR√çTICAS DE CONTRASTE
   ===================================== */

/* 1. LABELS E TEXTO SECUND√ÅRIO - PRIORIDADE ALTA */
.stat-label {
    color: #1e293b !important; /* Era #666 - muito claro */
    font-weight: 600 !important; /* Aumentar peso para melhor legibilidade */
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8) !important; /* Contraste adicional */
}

.metric-label {
    color: #1e293b !important;
    font-weight: 600 !important;
    font-size: 0.8rem !important;
    letter-spacing: 0.5px !important;
}

/* 2. INSIGHTS CARDS - TRANSPAR√äNCIA CR√çTICA */
.insight-card,
.insights-card-enhanced {
    background: rgba(255, 255, 255, 0.95) !important; /* Era 0.1 - invis√≠vel */
    border: 2px solid rgba(59, 130, 246, 0.3) !important; /* Borda de contraste */
    color: #0f172a !important; /* Texto muito escuro */
    font-weight: 500 !important;
    backdrop-filter: blur(10px) !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1) !important;
}

.insight-card h6,
.insights-card-enhanced h6 {
    color: #1e293b !important;
    font-weight: 700 !important;
    margin-bottom: 0.75rem !important;
}

/* 3. HEADERS COM CORES FRACAS */
h6[style*="color: #e83e8c"],
h6[style*="color: #17a2b8"],
h6[style*="color: #6f42c1"],
h5[style*="color: #6f42c1"],
h5[style*="color: #17a2b8"] {
    color: #1e293b !important;
    font-weight: 700 !important;
    text-shadow: 0 1px 3px rgba(255, 255, 255, 0.9) !important;
    background: rgba(255, 255, 255, 0.8) !important;
    padding: 0.5rem 1rem !important;
    border-radius: 8px !important;
    border-left: 4px solid #3b82f6 !important;
}

/* 4. BOT√ïES COM TRANSPAR√äNCIA PROBLEM√ÅTICA */
button[style*="rgba(255,255,255,0.2)"] {
    background: rgba(255, 255, 255, 0.9) !important;
    color: #1e293b !important;
    border: 2px solid rgba(59, 130, 246, 0.6) !important;
    font-weight: 600 !important;
    text-shadow: none !important;
}

button[style*="rgba(255,255,255,0.2)"]:hover {
    background: rgba(255, 255, 255, 1) !important;
    border-color: #3b82f6 !important;
    transform: translateY(-1px) !important;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3) !important;
}

/* 5. PAINEL DE INSIGHTS - FUNDO GRADIENTE PROBLEM√ÅTICO */
.mt-4[style*="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%)"] {
    background: linear-gradient(135deg, #1e293b 0%, #334155 100%) !important;
    border: 2px solid rgba(59, 130, 246, 0.3) !important;
    color: #e2e8f0 !important;
}

.mt-4[style*="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%)"] h4 {
    color: #ffffff !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5) !important;
    font-weight: 700 !important;
}

/* 6. ELEMENTOS COM TEXTO AGUARDANDO INICIALIZA√á√ÉO */
div:contains("Aguardando inicializa√ß√£o"),
div:contains("Aguardando an√°lise de IA"),
#ocean-models-status,
#bio-models-status,
#predictions-status {
    color: #1e293b !important;
    font-weight: 600 !important;
    background: rgba(255, 255, 255, 0.9) !important;
    padding: 0.5rem !important;
    border-radius: 6px !important;
    border: 1px solid rgba(59, 130, 246, 0.3) !important;
    font-style: italic !important;
}

/* =====================================
   üéØ MELHORIAS DE ACESSIBILIDADE
   ===================================== */

/* Focus states melhorados */
button:focus,
.btn:focus {
    outline: 3px solid #3b82f6 !important;
    outline-offset: 2px !important;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3) !important;
}

/* Contraste melhorado para links */
a {
    color: #1e40af !important;
    font-weight: 600 !important;
    text-decoration: underline !important;
}

a:hover {
    color: #1e3a8a !important;
    text-decoration: none !important;
}

/* =====================================
   üîç CORRE√á√ïES ESPEC√çFICAS POR ELEMENTO
   ===================================== */

/* Status cards com melhor contraste */
.stat-card {
    background: rgba(255, 255, 255, 0.98) !important;
    border: 2px solid rgba(226, 232, 240, 0.8) !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1) !important;
}

.stat-number {
    color: #1e293b !important;
    text-shadow: 0 1px 3px rgba(59, 130, 246, 0.3) !important;
    font-weight: 800 !important;
}

/* AI panels com contraste melhorado */
.ai-panel {
    border: 2px solid rgba(255, 255, 255, 0.3) !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2) !important;
}

.ai-panel h6 {
    font-weight: 700 !important;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5) !important;
}

/* Metric cards com melhor legibilidade */
.metric-card {
    border: 2px solid rgba(255, 255, 255, 0.3) !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15) !important;
}

.metric-card h6 {
    font-weight: 700 !important;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important;
    font-size: 0.9rem !important;
}

.metric-value {
    font-weight: 800 !important;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important;
    font-size: 1.8rem !important;
}

/* =====================================
   üì± CORRE√á√ïES MOBILE
   ===================================== */

@media (max-width: 768px) {
    /* Aumentar contraste em telas pequenas */
    .stat-label,
    .metric-label {
        color: #0f172a !important;
        font-weight: 700 !important;
        font-size: 0.85rem !important;
    }
    
    .insight-card,
    .insights-card-enhanced {
        background: rgba(255, 255, 255, 0.98) !important;
        border: 2px solid #3b82f6 !important;
        color: #0f172a !important;
        font-weight: 600 !important;
    }
    
    /* Headers mobile com contraste m√°ximo */
    h6, h5, h4 {
        color: #0f172a !important;
        font-weight: 800 !important;
        text-shadow: 0 1px 2px rgba(255, 255, 255, 0.9) !important;
    }
    
    /* Bot√µes mobile com contraste melhorado */
    .btn, button {
        border: 2px solid rgba(0, 0, 0, 0.2) !important;
        font-weight: 700 !important;
        min-height: 48px !important;
    }
}

/* =====================================
   üåô MODO ESCURO COM CONTRASTE OTIMIZADO
   ===================================== */

@media (prefers-color-scheme: dark) {
    .stat-label,
    .metric-label {
        color: #e2e8f0 !important;
        text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8) !important;
    }
    
    .insight-card,
    .insights-card-enhanced {
        background: rgba(30, 41, 59, 0.95) !important;
        border: 2px solid rgba(59, 130, 246, 0.5) !important;
        color: #e2e8f0 !important;
    }
    
    h6, h5, h4 {
        color: #f1f5f9 !important;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8) !important;
    }
    
    .stat-card {
        background: rgba(30, 41, 59, 0.95) !important;
        border: 2px solid rgba(71, 85, 105, 0.6) !important;
        color: #e2e8f0 !important;
    }
    
    .stat-number {
        color: #f1f5f9 !important;
        text-shadow: 0 2px 4px rgba(59, 130, 246, 0.5) !important;
    }
}

/* =====================================
   ‚ö° INDICADORES VISUAIS DE ALTA PRIORIDADE
   ===================================== */

/* Indicador de baixo contraste corrigido */
.contrast-fixed::before {
    content: '‚úÖ';
    position: absolute;
    top: -5px;
    right: -5px;
    background: #10b981;
    color: white;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    z-index: 10;
}

/* Elementos cr√≠ticos com indicador de corre√ß√£o */
.stat-label,
.metric-label,
.insight-card,
.insights-card-enhanced {
    position: relative;
}

/* =====================================
   üé® EFEITOS VISUAIS MELHORADOS
   ===================================== */

/* Hover effects com contraste mantido */
.stat-card:hover {
    border-color: #3b82f6 !important;
    box-shadow: 0 8px 25px rgba(59, 130, 246, 0.2) !important;
    transform: translateY(-2px) !important;
}

.insight-card:hover,
.insights-card-enhanced:hover {
    border-color: #1e40af !important;
    box-shadow: 0 6px 20px rgba(30, 64, 175, 0.25) !important;
    transform: translateY(-1px) !important;
}

/* Anima√ß√µes suaves mantendo contraste */
.stat-label,
.metric-label,
.insight-card,
.insights-card-enhanced {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* =====================================
   üîß UTILITY CLASSES DE CONTRASTE
   ===================================== */

.high-contrast {
    color: #0f172a !important;
    background: rgba(255, 255, 255, 0.98) !important;
    border: 2px solid rgba(0, 0, 0, 0.1) !important;
    font-weight: 600 !important;
}

.ultra-contrast {
    color: #000000 !important;
    background: #ffffff !important;
    border: 3px solid #000000 !important;
    font-weight: 700 !important;
}

.contrast-border {
    border: 2px solid rgba(59, 130, 246, 0.5) !important;
    box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.8) !important;
}

/* =====================================
   üìä VALIDA√á√ÉO DE CONTRASTE WCAG
   ===================================== */

/* Elementos que agora atendem WCAG AA (4.5:1) */
.wcag-aa-compliant {
    /* Ratio m√≠nimo 4.5:1 garantido */
    color: #1e293b; /* Sobre fundo branco = 12.02:1 */
    background: rgba(255, 255, 255, 0.98);
}

/* Elementos que atendem WCAG AAA (7:1) */
.wcag-aaa-compliant {
    /* Ratio m√≠nimo 7:1 garantido */
    color: #0f172a; /* Sobre fundo branco = 16.77:1 */
    background: rgba(255, 255, 255, 0.99);
    font-weight: 600;
}

/* =====================================
   üéØ APLICA√á√ÉO AUTOM√ÅTICA DAS CORRE√á√ïES
   ===================================== */

/* Auto-aplicar corre√ß√µes em elementos cr√≠ticos */
[style*="color: #666"],
[style*="color: #e83e8c"],
[style*="color: #17a2b8"],
[style*="rgba(255,255,255,0.1)"],
[style*="rgba(255,255,255,0.2)"] {
    position: relative;
}

/* Marca d'√°gua de corre√ß√£o aplicada */
[style*="color: #666"]::after,
[style*="rgba(255,255,255,0.1)"]::after {
    content: 'Contraste Corrigido ‚úÖ';
    position: absolute;
    bottom: -20px;
    left: 0;
    font-size: 10px;
    color: #10b981;
    font-weight: 600;
    opacity: 0.7;
    pointer-events: none;
}
