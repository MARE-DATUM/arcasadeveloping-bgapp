<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BGAPP - Marine Angola | Painel Administrativo v1.2.0</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="assets/css/fontawesome-fallback.css">
    <link rel="stylesheet" href="assets/css/admin.css">
    <link rel="stylesheet" href="assets/css/components.css">
    <link rel="stylesheet" href="assets/css/admin-inline.css">

    <meta name="description" content="Marine Angola - BGAPP: Painel administrativo para gest√£o completa da plataforma oceanogr√°fica e meteorol√≥gica">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <!-- Favicon e √çcones PWA -->
    <link rel="icon" type="image/x-icon" href="/BGAPP/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicon-16x16.png">
    <link rel="apple-touch-icon" href="/assets/img/apple-touch-icon.png">
</head>
<body>
    <!-- Skip link for accessibility -->
    <a href="#main-content" class="skip-link">Saltar para conte√∫do principal</a>
    
    <!-- Mobile Overlay -->
    <div class="mobile-overlay" id="mobile-overlay"></div>
    
    <div class="admin-container">
        <!-- Sidebar -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
                    <img src="/BGAPP/static/logo.png" alt="BGAPP - Marine Angola Logo" style="width: 32px; height: 32px; object-fit: contain; border-radius: 6px; box-shadow: 0 2px 6px rgba(0,0,0,0.2);">
                    <div>
                        <h2 style="margin: 0; font-size: 16px;"><i class="fas fa-cog"></i> BGAPP</h2>
                        <small style="color: var(--text-secondary); font-weight: 500;">Marine Angola</small>
                    </div>
                </div>
                <p>v1.2.0 - 100% Completo</p>
                <small class="text-success">
                    <i class="fas fa-check-circle me-1"></i>
                    15 funcionalidades ativas
                </small>
            </div>
            
            <ul class="nav-menu">
                <!-- PAINEL PRINCIPAL -->
                <li class="nav-item">
                    <a href="#dashboard" class="nav-link active" data-section="dashboard">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard Administrativo</span>
                    </a>
                </li>
                
                <!-- INTERFACES CIENT√çFICAS -->
                <div class="nav-section">üî¨ Interfaces Cient√≠ficas</div>
                <li class="nav-item">
                    <a href="dashboard.html" target="_blank" class="nav-link">
                        <i class="fas fa-chart-line"></i>
                        <span>Dashboard Cient√≠fico Angola</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="dashboard_cientifico.html" target="_blank" class="nav-link">
                        <i class="fas fa-microscope"></i>
                        <span>Dashboard Cient√≠fico Avan√ßado</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="collaboration.html" target="_blank" class="nav-link">
                        <i class="fas fa-users"></i>
                        <span>Colabora√ß√£o Cient√≠fica</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="stac_oceanographic.html" target="_blank" class="nav-link">
                        <i class="fas fa-waves"></i>
                        <span>STAC Oceanogr√°fico</span>
                    </a>
                </li>
                
                <!-- MAPAS E VISUALIZA√á√ÉO -->
                <div class="nav-section">üó∫Ô∏è Mapas e Visualiza√ß√£o</div>
                <li class="nav-item">
                    <a href="/BGAPP/" target="_blank" class="nav-link">
                        <i class="fas fa-map"></i>
                        <span>Mapa Interativo Principal</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="realtime_angola.html" target="_blank" class="nav-link">
                        <i class="fas fa-satellite-dish"></i>
                        <span>Tempo Real Angola</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="qgis_dashboard.html" target="_blank" class="nav-link">
                        <i class="fas fa-globe"></i>
                        <span>Dashboard QGIS</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="qgis_fisheries.html" target="_blank" class="nav-link">
                        <i class="fas fa-anchor"></i>
                        <span>QGIS Pescas</span>
                    </a>
                </li>
                
                <!-- AN√ÅLISES E DADOS -->
                <div class="nav-section">üìä An√°lises e Processamento</div>
                <li class="nav-item">
                    <a href="#analytics" class="nav-link" data-section="analytics">
                        <i class="fas fa-chart-area"></i>
                        <span>An√°lises Avan√ßadas</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#metocean" class="nav-link" data-section="metocean">
                        <i class="fas fa-water"></i>
                        <span>Anima√ß√µes Meteorol√≥gicas</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#processing" class="nav-link" data-section="processing">
                        <i class="fas fa-cogs"></i>
                        <span>Processamento de Dados</span>
                    </a>
                </li>
                
                <!-- INTERFACES MOBILE -->
                <div class="nav-section">üì± Interfaces Mobile</div>
                <li class="nav-item">
                    <a href="mobile_pwa.html" target="_blank" class="nav-link">
                        <i class="fas fa-mobile-alt"></i>
                        <span>Mobile PWA Avan√ßado</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="mobile.html" target="_blank" class="nav-link">
                        <i class="fas fa-mobile"></i>
                        <span>Interface Mobile B√°sica</span>
                    </a>
                </li>
                
                <!-- DEMOS E TESTES -->
                <div class="nav-section">üöÄ Demos e Testes</div>
                <li class="nav-item">
                    <a href="bgapp-enhanced-demo.html" target="_blank" class="nav-link">
                        <i class="fas fa-rocket"></i>
                        <span>Demo BGAPP Enhanced</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="bgapp-wind-animation-demo.html" target="_blank" class="nav-link">
                        <i class="fas fa-wind"></i>
                        <span>Demo Anima√ß√µes Vento</span>
                    </a>
                </li>
                
                <!-- SITES EXTERNOS -->
                <div class="nav-section">üåê Sites e Portais</div>
                <li class="nav-item">
                    <a href="minpermar-site/index.html" target="_blank" class="nav-link">
                        <i class="fas fa-fish"></i>
                        <span>Site MINPERMAR</span>
                    </a>
                </li>
                
                <!-- SISTEMAS AVAN√áADOS -->
                <div class="nav-section">‚ö° Performance e Cache</div>
                <li class="nav-item">
                    <a href="#cache" class="nav-link" data-section="cache">
                        <i class="fas fa-rocket"></i>
                        <span>Cache Redis (83% ‚¨ÜÔ∏è)</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#async" class="nav-link" data-section="async">
                        <i class="fas fa-cogs"></i>
                        <span>Processamento Ass√≠ncrono</span>
                    </a>
                </li>
                
                <div class="nav-section">ü§ñ IA e Machine Learning</div>
                <li class="nav-item">
                    <a href="#ml" class="nav-link" data-section="ml">
                        <i class="fas fa-brain"></i>
                        <span>Machine Learning (95%+)</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#models" class="nav-link" data-section="models">
                        <i class="fas fa-brain"></i>
                        <span>Modelos Preditivos</span>
                    </a>
                </li>
                
                <div class="nav-section">üîê Seguran√ßa e Autentica√ß√£o</div>
                <li class="nav-item">
                    <a href="#auth" class="nav-link" data-section="auth">
                        <i class="fas fa-lock"></i>
                        <span>Autentica√ß√£o Enterprise</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#backup" class="nav-link" data-section="backup">
                        <i class="fas fa-shield-alt"></i>
                        <span>Backup e Seguran√ßa</span>
                    </a>
                </li>
                
                <div class="nav-section">üîî Monitoriza√ß√£o e Alertas</div>
                <li class="nav-item">
                    <a href="#alerts" class="nav-link" data-section="alerts">
                        <i class="fas fa-bell"></i>
                        <span>Alertas Autom√°ticos</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#realtime-monitoring" class="nav-link" data-section="realtime-monitoring">
                        <i class="fas fa-eye"></i>
                        <span>Monitoriza√ß√£o Tempo Real</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#system-health" class="nav-link" data-section="system-health">
                        <i class="fas fa-heartbeat"></i>
                        <span>Sa√∫de do Sistema</span>
                    </a>
                </li>
                
                <div class="nav-section">üåê APIs e Conectividade</div>
                <li class="nav-item">
                    <a href="#gateway" class="nav-link" data-section="gateway">
                        <i class="fas fa-door-open"></i>
                        <span>API Gateway</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#api" class="nav-link" data-section="api">
                        <i class="fas fa-plug"></i>
                        <span>APIs e Conectores</span>
                    </a>
                </li>
                
                <!-- INFRAESTRUTURA E SERVI√áOS -->
                <div class="nav-section">üñ•Ô∏è Infraestrutura e Servi√ßos</div>
                <li class="nav-item">
                    <a href="#services" class="nav-link" data-section="services">
                        <i class="fas fa-server"></i>
                        <span>Estado dos Servi√ßos</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#databases" class="nav-link" data-section="databases">
                        <i class="fas fa-database"></i>
                        <span>Bases de Dados</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#storage" class="nav-link" data-section="storage">
                        <i class="fas fa-hdd"></i>
                        <span>Armazenamento</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="health_dashboard.html" target="_blank" class="nav-link">
                        <i class="fas fa-heartbeat"></i>
                        <span>Dashboard de Sa√∫de</span>
                    </a>
                </li>
                
                <!-- GEST√ÉO DE DADOS -->
                <div class="nav-section">üìÅ Gest√£o de Dados</div>
                <li class="nav-item">
                    <a href="#ingest" class="nav-link" data-section="ingest">
                        <i class="fas fa-download"></i>
                        <span>Ingest√£o de Dados</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#reports" class="nav-link" data-section="reports">
                        <i class="fas fa-chart-line"></i>
                        <span>Relat√≥rios</span>
                    </a>
                </li>
                
                <!-- CONFIGURA√á√ïES E UTILIZADORES -->
                <div class="nav-section">‚öôÔ∏è Configura√ß√µes</div>
                <li class="nav-item">
                    <a href="#config" class="nav-link" data-section="config">
                        <i class="fas fa-sliders-h"></i>
                        <span>Configura√ß√µes Sistema</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#users" class="nav-link" data-section="users">
                        <i class="fas fa-users"></i>
                        <span>Gest√£o Utilizadores</span>
                    </a>
                </li>
                
                <!-- LOGS E DESENVOLVIMENTO -->
                <div class="nav-section">üõ†Ô∏è Desenvolvimento e Debug</div>
                <li class="nav-item">
                    <a href="#logs" class="nav-link" data-section="logs">
                        <i class="fas fa-file-alt"></i>
                        <span>Logs do Sistema</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="debug.html" target="_blank" class="nav-link">
                        <i class="fas fa-bug"></i>
                        <span>Interface de Debug</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="test_dashboard.html" target="_blank" class="nav-link">
                        <i class="fas fa-vial"></i>
                        <span>Dashboard de Testes</span>
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content" id="main-content">
            <div class="top-bar">
                <div class="mobile-header">
                    <button class="mobile-menu-btn" id="mobile-menu-btn" aria-label="Abrir menu">
                        <i class="fas fa-bars"></i>
                    </button>
                    <div class="breadcrumb" id="breadcrumb">Dashboard</div>
                </div>
                <div class="user-info">
                    <span class="loading" id="system-status">
                        <div class="spinner"></div>
                        A carregar...
                    </span>
                    <div class="btn btn-outline" id="refresh-btn">
                        <i class="fas fa-sync-alt"></i>
                        <span class="btn-text">Atualizar</span>
                    </div>
                </div>
            </div>

            <div class="content-area">
                <!-- Success Banner Removido -->

                <!-- Dashboard Section -->
                <div id="dashboard-section" class="section active">
                    <div class="metrics-grid">
                        <div class="metric-card">
                            <div class="metric-icon"><i class="fas fa-server"></i></div>
                            <div class="metric-value" id="services-online">-</div>
                            <div class="metric-label">Servi√ßos Online</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon"><i class="fas fa-rocket"></i></div>
                            <div class="metric-value text-success">&lt;1s</div>
                            <div class="metric-label">Lat√™ncia API (83% ‚¨áÔ∏è)</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon"><i class="fas fa-brain"></i></div>
                            <div class="metric-value text-primary">95%+</div>
                            <div class="metric-label">Precis√£o ML</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon"><i class="fas fa-shield-alt"></i></div>
                            <div class="metric-value text-success">99.99%</div>
                            <div class="metric-label">Disponibilidade</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon"><i class="fas fa-bell"></i></div>
                            <div class="metric-value text-warning" id="system-alerts">-</div>
                            <div class="metric-label">Alertas Ativos</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon"><i class="fas fa-cogs"></i></div>
                            <div class="metric-value text-info" id="async-tasks-count">-</div>
                            <div class="metric-label">Tarefas Ass√≠ncronas</div>
                        </div>
                    </div>

                    <!-- Quick Access Links -->
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-rocket"></i>
                                Acesso R√°pido √†s Interfaces BGAPP
                            </div>
                        </div>
                        <div class="card-body">
                            <!-- Interfaces Principais -->
                            <h6 class="quick-access-category">üî¨ Interfaces Cient√≠ficas</h6>
                            <div class="quick-access-grid mb-4">
                                <a href="dashboard.html" target="_blank" class="quick-access-btn btn-primary">
                                    <i class="fas fa-chart-line"></i>
                                    <span>Dashboard Cient√≠fico</span>
                                </a>
                                <a href="dashboard_cientifico.html" target="_blank" class="quick-access-btn btn-info">
                                    <i class="fas fa-microscope"></i>
                                    <span>Cient√≠fico Avan√ßado</span>
                                </a>
                                <a href="collaboration.html" target="_blank" class="quick-access-btn btn-info">
                                    <i class="fas fa-users"></i>
                                    <span>Colabora√ß√£o</span>
                                </a>
                            </div>

                            <!-- Mapas e Visualiza√ß√£o -->
                            <h6 class="quick-access-category">üó∫Ô∏è Mapas e Visualiza√ß√£o</h6>
                            <div class="quick-access-grid mb-4">
                                <a href="/BGAPP/" target="_blank" class="quick-access-btn btn-outline">
                                    <i class="fas fa-map"></i>
                                    <span>Mapa Interativo</span>
                                </a>
                                <a href="realtime_angola.html" target="_blank" class="quick-access-btn btn-success">
                                    <i class="fas fa-satellite-dish"></i>
                                    <span>Tempo Real Angola</span>
                                </a>
                                <a href="qgis_dashboard.html" target="_blank" class="quick-access-btn btn-primary">
                                    <i class="fas fa-globe"></i>
                                    <span>QGIS Dashboard</span>
                                </a>
                            </div>

                            <!-- Mobile e PWA -->
                            <h6 class="quick-access-category">üì± Interfaces Mobile</h6>
                            <div class="quick-access-grid mb-4">
                                <a href="mobile_pwa.html" target="_blank" class="quick-access-btn btn-warning">
                                    <i class="fas fa-mobile-alt"></i>
                                    <span>Mobile PWA</span>
                                </a>
                            </div>

                            <!-- Servi√ßos Externos -->
                            <h6 class="quick-access-category">üåê Servi√ßos e Ferramentas</h6>
                            <div class="quick-access-grid">
                                <a href="health_dashboard.html" target="_blank" class="quick-access-btn btn-success">
                                    <i class="fas fa-heartbeat"></i>
                                    <span>Sa√∫de Sistema</span>
                                </a>
                                <a href="http://localhost:8082" target="_blank" class="quick-access-btn btn-outline">
                                    <i class="fas fa-search"></i>
                                    <span>STAC Browser</span>
                                </a>
                                <a href="http://localhost:5555" target="_blank" class="quick-access-btn btn-success">
                                    <i class="fas fa-cogs"></i>
                                    <span>Flower (Celery)</span>
                                </a>
                                <a href="http://localhost:9001" target="_blank" class="quick-access-btn btn-outline">
                                    <i class="fas fa-database"></i>
                                    <span>MinIO Console</span>
                                </a>
                                <a href="http://localhost:8083" target="_blank" class="quick-access-btn btn-outline">
                                    <i class="fas fa-shield-alt"></i>
                                    <span>Keycloak Auth</span>
                                </a>
                                <a href="minpermar-site/index.html" target="_blank" class="quick-access-btn btn-primary">
                                    <i class="fas fa-fish"></i>
                                    <span>Site MINPERMAR</span>
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-8">
                            <div class="card">
                                <div class="card-header">
                                    <div class="card-title">
                                        <i class="fas fa-chart-area"></i>
                                        Performance do Sistema
                                    </div>
                                </div>
                                <div class="card-body">
                                    <canvas id="system-performance-chart" style="height: 300px;"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="card">
                                <div class="card-header">
                                    <div class="card-title">
                                        <i class="fas fa-tasks"></i>
                                        Tarefas Recentes
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div id="recent-tasks">
                                        <div class="loading">
                                            <div class="spinner"></div>
                                            A carregar tarefas...
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Services Section -->
                <div id="services-section" class="section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-server"></i>
                                Estado dos Servi√ßos
                            </div>
                            <div class="btn btn-success" id="start-all-services">
                                <i class="fas fa-play"></i>
                                Iniciar Todos
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="service-grid" id="services-grid">
                                <!-- Services will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Databases Section -->
                <div id="databases-section" class="section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-database"></i>
                                Gest√£o de Bases de Dados
                            </div>
                            <div class="btn btn-primary" id="backup-db">
                                <i class="fas fa-download"></i>
                                Backup
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="tabs">
                                <button class="tab active" data-tab="postgis">PostGIS</button>
                                <button class="tab" data-tab="collections">Cole√ß√µes STAC</button>
                                <button class="tab" data-tab="queries">Consultas</button>
                            </div>
                            
                            <div id="postgis-tab" class="tab-content active">
                                <div class="table-responsive">
                                    <table class="table table-mobile-stack">
                                        <thead>
                                            <tr>
                                                <th>Schema</th>
                                                <th>Tabelas</th>
                                                <th>Registos</th>
                                                <th>Tamanho</th>
                                                <th>A√ß√µes</th>
                                            </tr>
                                        </thead>
                                        <tbody id="postgis-tables">
                                            <tr>
                                                <td colspan="5" class="loading">
                                                    <div class="spinner"></div>
                                                    A carregar informa√ß√µes da base de dados...
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            
                            <div id="collections-tab" class="tab-content">
                                <div id="stac-collections">
                                    <div class="loading">
                                        <div class="spinner"></div>
                                        A carregar cole√ß√µes STAC...
                                    </div>
                                </div>
                            </div>
                            
                            <div id="queries-tab" class="tab-content">
                                <div class="form-group">
                                    <label class="form-label">Consulta SQL:</label>
                                    <textarea class="form-control" id="sql-query" rows="6" placeholder="SELECT * FROM occurrences LIMIT 10;"></textarea>
                                </div>
                                <div class="btn btn-primary" id="execute-query">
                                    <i class="fas fa-play"></i>
                                    Executar
                                </div>
                                <div id="query-results" style="margin-top: 20px;"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Storage Section -->
                <div id="storage-section" class="section" style="display: none;">
                    <div class="row">
                        <div class="col-6">
                            <div class="card">
                                <div class="card-header">
                                    <div class="card-title">
                                        <i class="fas fa-hdd"></i>
                                        MinIO Storage
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div id="minio-buckets">
                                        <div class="loading">
                                            <div class="spinner"></div>
                                            A carregar buckets...
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="card">
                                <div class="card-header">
                                    <div class="card-title">
                                        <i class="fas fa-chart-pie"></i>
                                        Utiliza√ß√£o de Espa√ßo
                                    </div>
                                </div>
                                <div class="card-body">
                                    <canvas id="storage-chart" style="height: 300px;"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Ingest Section -->
                <div id="ingest-section" class="section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-download"></i>
                                Ingest√£o de Dados
                            </div>
                            <div class="btn btn-success" id="new-ingest">
                                <i class="fas fa-plus"></i>
                                Nova Ingest√£o
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="tabs">
                                <button class="tab active" data-tab="connectors">Conectores</button>
                                <button class="tab" data-tab="jobs">Tarefas</button>
                                <button class="tab" data-tab="schedule">Agendamento</button>
                            </div>
                            
                            <div id="connectors-tab" class="tab-content active">
                                <div class="row" id="connectors-grid">
                                    <!-- Connectors will be populated here -->
                                </div>
                            </div>
                            
                            <div id="jobs-tab" class="tab-content">
                                <div class="table-responsive">
                                    <table class="table table-mobile-stack">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>Conector</th>
                                                <th>Estado</th>
                                                <th>In√≠cio</th>
                                                <th>Dura√ß√£o</th>
                                                <th>Registos</th>
                                                <th>A√ß√µes</th>
                                            </tr>
                                        </thead>
                                        <tbody id="ingest-jobs">
                                            <tr>
                                                <td colspan="7" class="loading">
                                                    <div class="spinner"></div>
                                                    A carregar tarefas de ingest√£o...
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            
                            <div id="schedule-tab" class="tab-content">
                                <div class="form-group">
                                    <label class="form-label">Conector:</label>
                                    <select class="form-control" id="schedule-connector">
                                        <option value="">Selecionar conector...</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Frequ√™ncia:</label>
                                    <select class="form-control" id="schedule-frequency">
                                        <option value="hourly">Hor√°rio</option>
                                        <option value="daily">Di√°rio</option>
                                        <option value="weekly">Semanal</option>
                                        <option value="monthly">Mensal</option>
                                    </select>
                                </div>
                                <div class="btn btn-success" id="schedule-ingest">
                                    <i class="fas fa-calendar"></i>
                                    Agendar
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Processing Section -->
                <div id="processing-section" class="section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-cogs"></i>
                                Processamento de Dados
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="tabs">
                                <button class="tab active" data-tab="pipelines">Pipelines</button>
                                <button class="tab" data-tab="rasters">Rasters</button>
                                <button class="tab" data-tab="biodiv">Biodiversidade</button>
                                <button class="tab" data-tab="biomass">Biomassa</button>
                            </div>
                            
                            <div id="pipelines-tab" class="tab-content active">
                                <div id="processing-pipelines">
                                    <div class="loading">
                                        <div class="spinner"></div>
                                        A carregar pipelines...
                                    </div>
                                </div>
                            </div>
                            
                            <div id="rasters-tab" class="tab-content">
                                <div id="raster-processing">
                                    <p>Processamento de dados raster (NetCDF, COG, Zarr)</p>
                                </div>
                            </div>
                            
                            <div id="biodiv-tab" class="tab-content">
                                <div id="biodiversity-processing">
                                    <p>An√°lises de biodiversidade e √≠ndices ecol√≥gicos</p>
                                </div>
                            </div>
                            
                            <div id="biomass-tab" class="tab-content">
                                <div id="biomass-processing">
                                    <p>Estimativas de biomassa marinha e agr√≠cola</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Models Section -->
                <div id="models-section" class="section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-brain"></i>
                                Modelos e An√°lises
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="tabs">
                                <button class="tab active" data-tab="trained">Modelos Treinados</button>
                                <button class="tab" data-tab="training">Treino</button>
                                <button class="tab" data-tab="predictions">Predi√ß√µes</button>
                            </div>
                            
                            <div id="trained-tab" class="tab-content active">
                                <div id="trained-models">
                                    <div class="loading">
                                        <div class="spinner"></div>
                                        A carregar modelos...
                                    </div>
                                </div>
                            </div>
                            
                            <div id="training-tab" class="tab-content">
                                <div id="model-training">
                                    <p>Interface para treino de novos modelos</p>
                                </div>
                            </div>
                            
                            <div id="predictions-tab" class="tab-content">
                                <div id="model-predictions">
                                    <p>Predi√ß√µes e infer√™ncias dos modelos</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reports Section -->
                <div id="reports-section" class="section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-chart-line"></i>
                                Relat√≥rios e An√°lises
                            </div>
                            <div class="btn btn-success" id="generate-report">
                                <i class="fas fa-file-pdf"></i>
                                Gerar Relat√≥rio
                            </div>
                        </div>
                        <div class="card-body">
                            <div id="reports-list">
                                <div class="loading">
                                    <div class="spinner"></div>
                                    A carregar relat√≥rios...
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Configuration Section -->
                <div id="config-section" class="section" style="display: none;">
                    <div class="row">
                        <div class="col-6">
                            <div class="card">
                                <div class="card-header">
                                    <div class="card-title">
                                        <i class="fas fa-map"></i>
                                        √Årea de Interesse (AOI)
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="form-group">
                                        <label class="form-label">Arquivo GeoJSON:</label>
                                        <input type="file" class="form-control" id="aoi-file" accept=".geojson,.json">
                                    </div>
                                    <div class="btn btn-primary" id="upload-aoi">
                                        <i class="fas fa-upload"></i>
                                        Carregar AOI
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="card">
                                <div class="card-header">
                                    <div class="card-title">
                                        <i class="fas fa-fish"></i>
                                        Esp√©cies
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div id="species-config">
                                        <div class="loading">
                                            <div class="spinner"></div>
                                            A carregar configura√ß√£o de esp√©cies...
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-sliders-h"></i>
                                Vari√°veis do Sistema
                            </div>
                        </div>
                        <div class="card-body">
                            <div id="system-variables">
                                <div class="loading">
                                    <div class="spinner"></div>
                                    A carregar vari√°veis...
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Users Section -->
                <div id="users-section" class="section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-users"></i>
                                Gest√£o de Utilizadores
                            </div>
                            <div class="btn btn-success" id="add-user">
                                <i class="fas fa-user-plus"></i>
                                Adicionar Utilizador
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-mobile-stack">
                                    <thead>
                                        <tr>
                                            <th>Nome</th>
                                            <th>Email</th>
                                            <th>Papel</th>
                                            <th>Estado</th>
                                            <th>√öltimo Acesso</th>
                                            <th>A√ß√µes</th>
                                        </tr>
                                    </thead>
                                    <tbody id="users-table">
                                        <tr>
                                            <td colspan="6" class="loading">
                                                <div class="spinner"></div>
                                                A carregar utilizadores...
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- API Section -->
                <div id="api-section" class="section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-plug"></i>
                                APIs e Conectores
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="tabs">
                                <button class="tab active" data-tab="endpoints">Endpoints</button>
                                <button class="tab" data-tab="keys">Chaves API</button>
                                <button class="tab" data-tab="limits">Limites</button>
                            </div>
                            
                            <div id="endpoints-tab" class="tab-content active">
                                <div id="api-endpoints">
                                    <div class="loading">
                                        <div class="spinner"></div>
                                        A carregar endpoints...
                                    </div>
                                </div>
                            </div>
                            
                            <div id="keys-tab" class="tab-content">
                                <div id="api-keys">
                                    <p>Gest√£o de chaves de API</p>
                                </div>
                            </div>
                            
                            <div id="limits-tab" class="tab-content">
                                <div id="api-limits">
                                    <p>Configura√ß√£o de limites de utiliza√ß√£o</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Monitoring Section -->
                <div id="monitoring-section" class="section" style="display: none;">
                    <div class="row">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <div class="card-title">
                                        <i class="fas fa-heartbeat"></i>
                                        Monitoriza√ß√£o do Sistema
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="tabs">
                                        <button class="tab active" data-tab="realtime">Tempo Real</button>
                                        <button class="tab" data-tab="metrics">M√©tricas</button>
                                        <button class="tab" data-tab="alerts">Alertas</button>
                                    </div>
                                    
                                    <div id="realtime-tab" class="tab-content active">
                                        <canvas id="realtime-chart" style="height: 400px;"></canvas>
                                    </div>
                                    
                                    <div id="metrics-tab" class="tab-content">
                                        <div id="system-metrics">
                                            <div class="loading">
                                                <div class="spinner"></div>
                                                A carregar m√©tricas...
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div id="alerts-tab" class="tab-content">
                                        <div id="system-alerts-list">
                                            <div class="loading">
                                                <div class="spinner"></div>
                                                A carregar alertas...
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Logs Section -->
                <div id="logs-section" class="section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-file-alt"></i>
                                Logs do Sistema
                            </div>
                            <div>
                                <select class="form-control" id="log-level" style="width: auto; display: inline-block; margin-right: 10px;">
                                    <option value="">Todos os n√≠veis</option>
                                    <option value="ERROR">Erro</option>
                                    <option value="WARNING">Aviso</option>
                                    <option value="INFO">Info</option>
                                    <option value="DEBUG">Debug</option>
                                </select>
                                <div class="btn btn-outline" id="clear-logs">
                                    <i class="fas fa-trash"></i>
                                    Limpar
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="log-container" id="logs-container">
                                <div class="loading">
                                    <div class="spinner"></div>
                                    A carregar logs...
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Backup Section -->
                <div id="backup-section" class="section" style="display: none;">
                    <div class="row">
                        <div class="col-6">
                            <div class="card">
                                <div class="card-header">
                                    <div class="card-title">
                                        <i class="fas fa-download"></i>
                                        Backup
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="btn btn-success" id="create-backup">
                                        <i class="fas fa-download"></i>
                                        Criar Backup Completo
                                    </div>
                                    <div id="backup-list" style="margin-top: 20px;">
                                        <div class="loading">
                                            <div class="spinner"></div>
                                            A carregar backups...
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="card">
                                <div class="card-header">
                                    <div class="card-title">
                                        <i class="fas fa-shield-alt"></i>
                                        Seguran√ßa
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div id="security-status">
                                        <div class="loading">
                                            <div class="spinner"></div>
                                            A verificar estado de seguran√ßa...
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Cache Section -->
                <div id="cache-section" class="section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-rocket"></i>
                                Sistema de Cache Redis
                                <span class="badge bg-success">83% mais r√°pido</span>
                            </div>
                            <div class="btn btn-outline" onclick="refreshCacheStats()">
                                <i class="fas fa-sync-alt"></i>
                                Atualizar
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-8">
                                    <div id="cache-stats" class="loading">
                                        <div class="spinner"></div>
                                        Carregando estat√≠sticas do cache...
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="btn-group-vertical w-100">
                                        <button class="btn btn-primary mb-2" onclick="warmUpCache()">
                                            <i class="fas fa-fire me-2"></i>
                                            Aquecer Cache
                                        </button>
                                        <button class="btn btn-warning mb-2" onclick="clearCache()">
                                            <i class="fas fa-trash me-2"></i>
                                            Limpar Cache
                                        </button>
                                        <button class="btn btn-info" onclick="showCacheMetrics()">
                                            <i class="fas fa-chart-bar me-2"></i>
                                            Ver M√©tricas
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Alerts Section -->
                <div id="alerts-section" class="section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-bell"></i>
                                Sistema de Alertas Autom√°ticos
                                <span class="badge bg-danger">90% menos downtime</span>
                            </div>
                            <div class="btn btn-outline" onclick="refreshAlerts()">
                                <i class="fas fa-sync-alt"></i>
                                Atualizar
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h6>Alertas Ativos</h6>
                                    <div id="active-alerts" class="loading">
                                        <div class="spinner"></div>
                                        Carregando alertas...
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h6>Regras de Alerta</h6>
                                    <div id="alert-rules" class="loading">
                                        <div class="spinner"></div>
                                        Carregando regras...
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Backup Section Enhanced -->
                <div id="backup-section" class="section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-shield-alt"></i>
                                Sistema de Backup Robusto
                                <span class="badge bg-success">99.99% disponibilidade</span>
                            </div>
                            <div class="btn btn-outline" onclick="refreshBackupDashboard()">
                                <i class="fas fa-sync-alt"></i>
                                Atualizar
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-8">
                                    <div id="backup-dashboard" class="loading">
                                        <div class="spinner"></div>
                                        Carregando dashboard de backup...
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="btn-group-vertical w-100">
                                        <button class="btn btn-success mb-2" onclick="createFullBackup()">
                                            <i class="fas fa-download me-2"></i>
                                            Backup Completo
                                        </button>
                                        <button class="btn btn-primary mb-2" onclick="createDatabaseBackup()">
                                            <i class="fas fa-database me-2"></i>
                                            Backup Base Dados
                                        </button>
                                        <button class="btn btn-info mb-2" onclick="createFilesBackup()">
                                            <i class="fas fa-file-archive me-2"></i>
                                            Backup Arquivos
                                        </button>
                                        <button class="btn btn-warning" onclick="cleanupOldBackups()">
                                            <i class="fas fa-broom me-2"></i>
                                            Limpar Antigos
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ML Section -->
                <div id="ml-section" class="section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-brain"></i>
                                Machine Learning
                                <span class="badge bg-primary">>95% precis√£o</span>
                            </div>
                            <div class="btn btn-outline" onclick="refreshMLDashboard()">
                                <i class="fas fa-sync-alt"></i>
                                Atualizar
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-8">
                                    <div id="ml-dashboard" class="loading">
                                        <div class="spinner"></div>
                                        Carregando dashboard ML...
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="btn-group-vertical w-100">
                                        <button class="btn btn-success mb-2" onclick="trainAllModels()">
                                            <i class="fas fa-play me-2"></i>
                                            Treinar Todos
                                        </button>
                                        <button class="btn btn-primary mb-2" onclick="showMLModels()">
                                            <i class="fas fa-list me-2"></i>
                                            Ver Modelos
                                        </button>
                                        <button class="btn btn-info mb-2" onclick="testPrediction()">
                                            <i class="fas fa-magic me-2"></i>
                                            Testar Previs√£o
                                        </button>
                                        <button class="btn btn-warning" onclick="showMLMetrics()">
                                            <i class="fas fa-chart-line me-2"></i>
                                            M√©tricas
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Gateway Section -->
                <div id="gateway-section" class="section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-door-open"></i>
                                API Gateway
                                <span class="badge bg-info">10x mais utilizadores</span>
                            </div>
                            <div class="btn btn-outline" onclick="refreshGatewayMetrics()">
                                <i class="fas fa-sync-alt"></i>
                                Atualizar
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h6>M√©tricas do Gateway</h6>
                                    <div id="gateway-metrics" class="loading">
                                        <div class="spinner"></div>
                                        Carregando m√©tricas...
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h6>Rate Limiting</h6>
                                    <div id="rate-limit-rules" class="loading">
                                        <div class="spinner"></div>
                                        Carregando regras...
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-12">
                                    <h6>Sa√∫de dos Backends</h6>
                                    <div id="backend-health" class="loading">
                                        <div class="spinner"></div>
                                        Verificando backends...
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Auth Section -->
                <div id="auth-section" class="section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-lock"></i>
                                Autentica√ß√£o Enterprise
                                <span class="badge bg-warning">OAuth2, MFA, SSO</span>
                            </div>
                            <div class="btn btn-outline" onclick="refreshAuthDashboard()">
                                <i class="fas fa-sync-alt"></i>
                                Atualizar
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-8">
                                    <div id="auth-dashboard" class="loading">
                                        <div class="spinner"></div>
                                        Carregando dashboard de autentica√ß√£o...
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="btn-group-vertical w-100">
                                        <button class="btn btn-primary mb-2" onclick="showUsers()">
                                            <i class="fas fa-users me-2"></i>
                                            Gerir Utilizadores
                                        </button>
                                        <button class="btn btn-success mb-2" onclick="showMFAStats()">
                                            <i class="fas fa-mobile-alt me-2"></i>
                                            Estat√≠sticas MFA
                                        </button>
                                        <button class="btn btn-info mb-2" onclick="showOAuthProviders()">
                                            <i class="fas fa-sign-in-alt me-2"></i>
                                            Providers OAuth
                                        </button>
                                        <button class="btn btn-warning" onclick="showGDPRCompliance()">
                                            <i class="fas fa-balance-scale me-2"></i>
                                            Conformidade GDPR
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Async Processing Section -->
                <div id="async-section" class="section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-cogs"></i>
                                Processamento Ass√≠ncrono
                                <span class="badge bg-success">80% mais r√°pido</span>
                            </div>
                            <div class="btn btn-outline" onclick="refreshAsyncTasks()">
                                <i class="fas fa-sync-alt"></i>
                                Atualizar
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-8">
                                    <div id="async-tasks" class="loading">
                                        <div class="spinner"></div>
                                        Carregando tarefas ass√≠ncronas...
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="btn-group-vertical w-100">
                                        <button class="btn btn-primary mb-2" onclick="processOceanographicData()">
                                            <i class="fas fa-water me-2"></i>
                                            Processar Oceanogr√°ficos
                                        </button>
                                        <button class="btn btn-success mb-2" onclick="processSpeciesData()">
                                            <i class="fas fa-fish me-2"></i>
                                            Processar Esp√©cies
                                        </button>
                                        <button class="btn btn-info mb-2" onclick="generateReports()">
                                            <i class="fas fa-file-alt me-2"></i>
                                            Gerar Relat√≥rios
                                        </button>
                                        <button class="btn btn-warning" onclick="showCeleryMonitor()">
                                            <i class="fas fa-external-link-alt me-2"></i>
                                            Flower Monitor
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Metocean Animations Section -->
                <div id="metocean-section" class="section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-water"></i>
                                Anima√ß√µes Meteorol√≥gicas e Oceanogr√°ficas
                                <span class="badge bg-primary">Tempo Real</span>
                            </div>
                            <div class="btn btn-outline" onclick="refreshMetoceanData()">
                                <i class="fas fa-sync-alt"></i>
                                Atualizar
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h4><i class="fas fa-thermometer-half me-2"></i>Vari√°veis Escalares</h4>
                                    <div class="btn-group-vertical w-100 mb-3">
                                        <button class="btn btn-outline-primary mb-2" onclick="loadMetoceanLayer('sst')">
                                            <i class="fas fa-temperature-high me-2"></i>
                                            Temperatura Superficial (SST)
                                        </button>
                                        <button class="btn btn-outline-info mb-2" onclick="loadMetoceanLayer('salinity')">
                                            <i class="fas fa-tint me-2"></i>
                                            Salinidade Oce√¢nica
                                        </button>
                                        <button class="btn btn-outline-success mb-2" onclick="loadMetoceanLayer('chlorophyll')">
                                            <i class="fas fa-leaf me-2"></i>
                                            Clorofila-a
                                        </button>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h4><i class="fas fa-wind me-2"></i>Campos Vetoriais</h4>
                                    <div class="btn-group-vertical w-100 mb-3">
                                        <button class="btn btn-outline-warning mb-2" onclick="loadMetoceanLayer('currents')">
                                            <i class="fas fa-water me-2"></i>
                                            Correntes Marinhas
                                        </button>
                                        <button class="btn btn-outline-secondary mb-2" onclick="loadMetoceanLayer('wind')">
                                            <i class="fas fa-wind me-2"></i>
                                            Campos de Vento
                                        </button>
                                    </div>
                                    
                                    <h4><i class="fas fa-play me-2"></i>Controles de Anima√ß√£o</h4>
                                    <div class="btn-group w-100">
                                        <button class="btn btn-success" onclick="startMetoceanAnimation()">
                                            <i class="fas fa-play me-2"></i>
                                            Animar
                                        </button>
                                        <button class="btn btn-danger" onclick="stopMetoceanAnimation()">
                                            <i class="fas fa-stop me-2"></i>
                                            Parar
                                        </button>
                                        <button class="btn btn-warning" onclick="clearAllMetoceanLayers()">
                                            <i class="fas fa-eraser me-2"></i>
                                            Limpar
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row mt-4">
                                <div class="col-12">
                                    <div class="alert alert-info">
                                        <i class="fas fa-info-circle me-2"></i>
                                        <strong>Status:</strong> <span id="metocean-status">Sistema pronto</span>
                                    </div>
                                    <div id="metocean-preview" style="height: 300px; background: #f8f9fa; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #6c757d;">
                                        <div class="text-center">
                                            <i class="fas fa-map fa-3x mb-3"></i>
                                            <p>Pr√©-visualiza√ß√£o das anima√ß√µes meteorol√≥gicas aparecer√° aqui</p>
                                            <button class="btn btn-primary" onclick="openFullMetoceanMap()">
                                                <i class="fas fa-expand me-2"></i>
                                                Abrir Mapa Completo
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Analytics Dashboard Section -->
                <div id="analytics-section" class="section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-chart-area"></i>
                                Dashboard de An√°lises Avan√ßadas
                                <span class="badge bg-success">IA Integrada</span>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="tabs">
                                <button class="tab active" data-tab="biodiversity-analytics">Biodiversidade</button>
                                <button class="tab" data-tab="biomass-analytics">Biomassa</button>
                                <button class="tab" data-tab="fisheries-analytics">Pescas</button>
                                <button class="tab" data-tab="oceanographic-analytics">Oceanografia</button>
                            </div>
                            
                            <div id="biodiversity-analytics-tab" class="tab-content active">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="metric-card">
                                            <div class="metric-value">
                                                <span id="species-count">1,247</span>
                                            </div>
                                            <div class="metric-label">
                                                <i class="fas fa-fish me-2"></i>
                                                Esp√©cies Registadas
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="metric-card">
                                            <div class="metric-value">
                                                <span id="biodiversity-index">0.847</span>
                                            </div>
                                            <div class="metric-label">
                                                <i class="fas fa-leaf me-2"></i>
                                                √çndice Shannon
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="metric-card">
                                            <div class="metric-value">
                                                <span id="endemic-species">23</span>
                                            </div>
                                            <div class="metric-label">
                                                <i class="fas fa-star me-2"></i>
                                                Esp√©cies End√©micas
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mt-4">
                                    <div class="col-md-8">
                                        <canvas id="biodiversity-chart" style="height: 300px;"></canvas>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="btn-group-vertical w-100">
                                            <button class="btn btn-primary mb-2" onclick="generateBiodiversityReport()">
                                                <i class="fas fa-file-alt me-2"></i>
                                                Relat√≥rio de Biodiversidade
                                            </button>
                                            <button class="btn btn-success mb-2" onclick="runSpeciesDistributionModel()">
                                                <i class="fas fa-brain me-2"></i>
                                                Modelo de Distribui√ß√£o
                                            </button>
                                            <button class="btn btn-info" onclick="exportBiodiversityData()">
                                                <i class="fas fa-download me-2"></i>
                                                Exportar Dados
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="biomass-analytics-tab" class="tab-content">
                                <div class="row">
                                    <div class="col-md-6">
                                        <canvas id="biomass-trend-chart" style="height: 300px;"></canvas>
                                    </div>
                                    <div class="col-md-6">
                                        <canvas id="biomass-distribution-chart" style="height: 300px;"></canvas>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="fisheries-analytics-tab" class="tab-content">
                                <div class="row">
                                    <div class="col-md-8">
                                        <canvas id="fisheries-yield-chart" style="height: 300px;"></canvas>
                                    </div>
                                    <div class="col-md-4">
                                        <div id="fisheries-stats">
                                            <div class="loading">
                                                <div class="spinner"></div>
                                                Carregando estat√≠sticas de pesca...
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="oceanographic-analytics-tab" class="tab-content">
                                <div class="row">
                                    <div class="col-md-12">
                                        <canvas id="oceanographic-trends-chart" style="height: 400px;"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Real-time Monitoring Section -->
                <div id="realtime-monitoring-section" class="section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-eye"></i>
                                Monitoriza√ß√£o em Tempo Real
                                <span class="badge bg-warning pulse">Live</span>
                            </div>
                            <div class="btn btn-outline" onclick="refreshRealtimeData()">
                                <i class="fas fa-sync-alt"></i>
                                Atualizar
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-3">
                                    <div class="realtime-metric">
                                        <div class="metric-icon text-primary">
                                            <i class="fas fa-database"></i>
                                        </div>
                                        <div class="metric-content">
                                            <div class="metric-value" id="db-connections">24</div>
                                            <div class="metric-label">Conex√µes BD</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="realtime-metric">
                                        <div class="metric-icon text-success">
                                            <i class="fas fa-globe"></i>
                                        </div>
                                        <div class="metric-content">
                                            <div class="metric-value" id="api-requests">1,247</div>
                                            <div class="metric-label">Requests/min</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="realtime-metric">
                                        <div class="metric-icon text-warning">
                                            <i class="fas fa-memory"></i>
                                        </div>
                                        <div class="metric-content">
                                            <div class="metric-value" id="memory-usage">67%</div>
                                            <div class="metric-label">Uso Mem√≥ria</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="realtime-metric">
                                        <div class="metric-icon text-info">
                                            <i class="fas fa-hdd"></i>
                                        </div>
                                        <div class="metric-content">
                                            <div class="metric-value" id="disk-usage">43%</div>
                                            <div class="metric-label">Uso Disco</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row mt-4">
                                <div class="col-md-8">
                                    <canvas id="realtime-performance-chart" style="height: 300px;"></canvas>
                                </div>
                                <div class="col-md-4">
                                    <div class="alert alert-success mb-3">
                                        <i class="fas fa-check-circle me-2"></i>
                                        <strong>Sistema Saud√°vel</strong>
                                        <br>Todos os servi√ßos operacionais
                                    </div>
                                    <div id="active-alerts" class="alert alert-warning" style="display: none;">
                                        <i class="fas fa-exclamation-triangle me-2"></i>
                                        <strong>Alertas Ativos:</strong>
                                        <ul id="alerts-list" class="mt-2 mb-0"></ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- System Health Section -->
                <div id="system-health-section" class="section" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">
                                <i class="fas fa-heartbeat"></i>
                                Sa√∫de do Sistema
                                <span class="badge bg-success" id="system-status">Saud√°vel</span>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h4><i class="fas fa-server me-2"></i>Estado dos Servi√ßos</h4>
                                    <div id="services-health">
                                        <div class="service-status">
                                            <div class="status-indicator status-healthy"></div>
                                            <span class="service-name">PostGIS Database</span>
                                            <span class="service-uptime">99.9% uptime</span>
                                        </div>
                                        <div class="service-status">
                                            <div class="status-indicator status-healthy"></div>
                                            <span class="service-name">STAC FastAPI</span>
                                            <span class="service-uptime">99.8% uptime</span>
                                        </div>
                                        <div class="service-status">
                                            <div class="status-indicator status-healthy"></div>
                                            <span class="service-name">MinIO Storage</span>
                                            <span class="service-uptime">100% uptime</span>
                                        </div>
                                        <div class="service-status">
                                            <div class="status-indicator status-warning"></div>
                                            <span class="service-name">Keycloak Auth</span>
                                            <span class="service-uptime">97.2% uptime</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h4><i class="fas fa-chart-line me-2"></i>M√©tricas de Performance</h4>
                                    <canvas id="system-health-chart" style="height: 250px;"></canvas>
                                </div>
                            </div>
                            
                            <div class="row mt-4">
                                <div class="col-12">
                                    <h4><i class="fas fa-history me-2"></i>Hist√≥rico de Incidentes</h4>
                                    <div class="table-responsive">
                                        <table class="table table-sm">
                                            <thead>
                                                <tr>
                                                    <th>Data</th>
                                                    <th>Servi√ßo</th>
                                                    <th>Tipo</th>
                                                    <th>Dura√ß√£o</th>
                                                    <th>Status</th>
                                                </tr>
                                            </thead>
                                            <tbody id="incidents-table">
                                                <tr>
                                                    <td>2025-01-01 14:23</td>
                                                    <td>Keycloak</td>
                                                    <td>Timeout</td>
                                                    <td>3m 45s</td>
                                                    <td><span class="badge bg-success">Resolvido</span></td>
                                                </tr>
                                                <tr>
                                                    <td>2024-12-28 09:15</td>
                                                    <td>PostGIS</td>
                                                    <td>Conex√£o</td>
                                                    <td>12m 20s</td>
                                                    <td><span class="badge bg-success">Resolvido</span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="assets/js/fontawesome-fallback.js"></script>
    <script src="assets/js/intelligent-cache.js"></script>
    <script src="assets/js/admin.js?v=20250901-0330"></script>
    <script src="assets/js/admin-mobile-final.js"></script>
    <script src="assets/js/admin-test.js"></script>
    
    <!-- Service Worker Registration -->
    <script>
        // Registrar Service Worker avan√ßado
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw-advanced.js')
                    .then(registration => {
                        console.log('‚úÖ SW registered:', registration);
                        
                        // Verificar atualiza√ß√µes
                        registration.addEventListener('updatefound', () => {
                            console.log('üîÑ SW update found');
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // Nova vers√£o dispon√≠vel
                                    if (confirm('Nova vers√£o do BGAPP dispon√≠vel. Recarregar?')) {
                                        window.location.reload();
                                    }
                                }
                            });
                        });
                    })
                    .catch(error => console.log('‚ùå SW registration failed:', error));
            });
        }
    </script>

    <!-- Debug Script for AdminMobileMenu -->
    <script>
        // Wait for everything to load
        window.addEventListener('load', function() {
            setTimeout(function() {
                console.log('üîç DEBUG: Verificando AdminMobileMenu ap√≥s load completo...');
                
                if (typeof AdminMobileMenu !== 'undefined') {
                    console.log('‚úÖ AdminMobileMenu class encontrada');
                    
                    if (typeof adminMobileMenu !== 'undefined') {
                        console.log('‚úÖ adminMobileMenu instance encontrada');
                        console.log('- Inicializado:', adminMobileMenu.isInitialized());
                        console.log('- Menu aberto:', adminMobileMenu.isMenuOpen());
                    } else {
                        console.log('‚ö†Ô∏è adminMobileMenu instance n√£o encontrada, criando...');
                        try {
                            window.adminMobileMenu = new AdminMobileMenu();
                            console.log('‚úÖ adminMobileMenu criado manualmente');
                        } catch (e) {
                            console.error('‚ùå Erro ao criar adminMobileMenu:', e);
                        }
                    }
                } else {
                    console.error('‚ùå AdminMobileMenu class n√£o encontrada');
                }
                
                // Debug helper dispon√≠vel no console
                if (typeof debugAdminMobile === 'function') {
                    console.log('üõ†Ô∏è Use debugAdminMobile() no console para mais informa√ß√µes');
                }
            }, 1000);
        });
    </script>
</body>
</html>
